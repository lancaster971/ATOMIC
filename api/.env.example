# ============================================================
# Atomic CRM API - Configurazione Environment
# Copia in .env e personalizza
# ============================================================

# -------------------- App Settings --------------------
ATOMIC_API_DEBUG=false
ATOMIC_API_LOG_LEVEL=INFO
ATOMIC_API_LOG_FORMAT=json

# -------------------- Database (Supabase) --------------------
# Connessione allo stesso PostgreSQL di Supabase
# Per Supabase locale (default):
ATOMIC_API_DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:54322/postgres
ATOMIC_API_DATABASE_URL_SYNC=postgresql://postgres:postgres@localhost:54322/postgres

# Per Supabase remoto:
# ATOMIC_API_DATABASE_URL=postgresql+asyncpg://postgres:[PASSWORD]@db.[PROJECT].supabase.co:5432/postgres

# -------------------- Supabase Auth --------------------
ATOMIC_API_SUPABASE_URL=http://localhost:54321
# ATOMIC_API_SUPABASE_URL=https://[PROJECT].supabase.co
ATOMIC_API_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIs...
ATOMIC_API_SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIs...

# -------------------- Redis (opzionale) --------------------
ATOMIC_API_REDIS_URL=redis://localhost:6379/0

# -------------------- Dynamics 365 Business Central --------------------
# Abilita integrazione
ATOMIC_API_DYNAMICS_BC_ENABLED=false

# OAuth2 Config (ottenuto da Azure AD)
ATOMIC_API_DYNAMICS_BC_TENANT_ID=your-tenant-id
ATOMIC_API_DYNAMICS_BC_CLIENT_ID=your-app-client-id
ATOMIC_API_DYNAMICS_BC_CLIENT_SECRET=your-client-secret

# BC Config
ATOMIC_API_DYNAMICS_BC_ENVIRONMENT=production
ATOMIC_API_DYNAMICS_BC_COMPANY_ID=your-company-id
# Oppure URL base completo:
# ATOMIC_API_DYNAMICS_BC_BASE_URL=https://api.businesscentral.dynamics.com/v2.0/{tenant}/{environment}/api/v2.0

# -------------------- Webhook Security --------------------
# Segreto per verifica firma webhook (genera con: openssl rand -hex 32)
ATOMIC_API_WEBHOOK_SECRET=your-webhook-secret

# -------------------- Sync Settings --------------------
ATOMIC_API_SYNC_BATCH_SIZE=100
ATOMIC_API_SYNC_TIMEOUT_SECONDS=300
ATOMIC_API_AUTO_SYNC_ENABLED=false
ATOMIC_API_AUTO_SYNC_CRON=0 */6 * * *
